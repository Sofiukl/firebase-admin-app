{"version":3,"sources":["helper/firebase.js","helper/showToastMessage.js","components/Modal.js","components/CreateUserForm.js","components/CreateUser.js","components/UpdateUserForm.js","components/UpdateUser.js","components/DeleteUser.js","components/DownloadUsers.js","components/Users.js","App.js","reportWebVitals.js","index.js"],"names":["ERROR_MESSAGE","formatHTTPResponse","httpResponse","ok","status","json","isSuccess","message","formatErrorResponse","error","APIPath","endPoint","params","querystring","Object","keys","map","key","encodeURIComponent","join","path","process","header","payload","headers","token","Authorization","forEach","firebaseUtil","onUpdate","fetch","method","then","response","catch","create","obj","body","JSON","stringify","update","uid","delete","showToastMessage","type","toast","warn","position","POSITION","TOP_RIGHT","success","customStyles","content","top","left","right","bottom","marginRight","transform","padding","minWidth","ModalUI","isOpen","onRequestClose","children","style","UserForm","props","useState","email","setEmail","password","setPassword","onClickCancel","onClose","Modal","className","htmlFor","id","value","onChange","e","target","onClick","test","length","validate","onSave","CreateUser","onUserUpdate","setIsOpen","handleOnClose","CreateUserForm","firebase","setTimeout","err","finally","useEffect","UpdateUser","UpdateUserForm","DeleteUser","DownloadUsers","data","filename","Users","undefined","users","setUsers","useCallback","scope","configure","autoClose","draggable","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootElement","document","getElementById","ReactDOM","render","StrictMode","setAppElement"],"mappings":"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","file":"static/js/main.9e07010c.chunk.js","sourcesContent":["// const firebase = require(\"firebase/app\").default;\n// // require(\"firebase/auth\");\n// require(\"firebase/database\");\n\n// const firebaseConfig = {\n//   apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n//   authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n//   projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n//   storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n//   messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n//   appId: process.env.REACT_APP_FIREBASE_APP_ID,\n//   measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID,\n// };\n// const USER_TABLE_NAME = process.env.REACT_APP_USER_TABLE_NAME;\n\n// let firebaseDb;\n\n// const init = () => {\n//   const app = firebase.initializeApp(firebaseConfig);\n//   firebaseDb = app.database().ref();\n// };\n\n// init();\nconst REACT_APP_BACKEND = process.env.REACT_APP_BACKEND;\n\nconst ERROR_MESSAGE = \"Something went wrong. Please try again later.\";\n\nconst formatHTTPResponse = (httpResponse) => {\n  if (httpResponse.ok && httpResponse.status === 200) {\n    return httpResponse.json();\n  }\n  return { isSuccess: false, message: ERROR_MESSAGE };\n};\nconst formatErrorResponse = (error) => {\n  return { isSuccess: false, message: error.message || ERROR_MESSAGE };\n};\n\nconst APIPath = (endPoint, params) => {\n  let querystring = \"\";\n  if (params) {\n    querystring = `${querystring}&${Object.keys(params)\n      .map((key) => `${key}=${encodeURIComponent(params[key])}`)\n      .join(\"&\")}`;\n  }\n  const path = `${REACT_APP_BACKEND}/user/${endPoint}`;\n\n  return querystring === \"\" ? path : `${path}?${querystring}`;\n};\n\nconst header = (payload) => {\n  const headers = {\n    \"Content-type\": \"application/json\",\n    ...(payload.token && { Authorization: payload.token }),\n    ...payload.headers,\n  };\n\n  if (headers[\"Content-type\"] === null) {\n    delete headers[\"Content-type\"];\n  }\n\n  Object.keys(headers).forEach((key) => !headers[key] && delete headers[key]);\n\n  return headers;\n};\n\nconst onUpdate = () => {\n  // firebaseDb.child(USER_TABLE_NAME).on(\"value\", (snapshot) => {\n  //   const data = snapshot.val();\n  //   if (data != null) {\n  //     callback(Object.keys(data).map((id) => ({ id, ...data[id] })));\n  //   } else {\n  //     callback([]);\n  //   }\n  // });\n\n  return fetch(APIPath(\"user-list\", {}), {\n    method: \"GET\",\n    headers: header({}),\n  })\n    .then((response) => formatHTTPResponse(response))\n    .catch((error) => formatErrorResponse(error));\n};\n\nconst create = (obj) => {\n  // firebaseDb.child(USER_TABLE_NAME).push(obj, (err) => {\n  //   if (err) {\n  //     console.log(err);\n  //     callback(err);\n  //     return;\n  //   }\n  //   callback(null);\n  // });\n\n  return fetch(APIPath(\"user-create\", {}), {\n    method: \"POST\",\n    headers: header({}),\n    body: JSON.stringify(obj),\n  })\n    .then((response) => formatHTTPResponse(response))\n    .catch((error) => formatErrorResponse(error));\n};\n\nconst update = (uid, obj) => {\n  // firebaseDb.child(`${USER_TABLE_NAME}/${id}`).set(obj, (err) => {\n  //   if (err) {\n  //     console.log(err);\n  //     callback(err);\n  //     return;\n  //   }\n  //   callback(null);\n  // });\n\n  return fetch(APIPath(\"user-update\", {}), {\n    method: \"POST\",\n    headers: header({}),\n    body: JSON.stringify({ uid, ...obj }),\n  })\n    .then((response) => formatHTTPResponse(response))\n    .catch((error) => formatErrorResponse(error));\n};\n\nconst remove = (uid) => {\n  // firebaseDb.child(`${USER_TABLE_NAME}/${id}`).remove((err) => {\n  //   if (err) {\n  //     callback(err);\n  //     return;\n  //   }\n  //   callback(null);\n  // });\n\n  return fetch(APIPath(\"user-delete\", {}), {\n    method: \"POST\",\n    headers: header({}),\n    body: JSON.stringify({ uid }),\n  })\n    .then((response) => formatHTTPResponse(response))\n    .catch((error) => formatErrorResponse(error));\n};\n\n// const detachListener = () => {\n//   firebaseDb.off();\n// };\n\nconst firebaseUtil = {\n  // detachListener,\n  onUpdate,\n  create,\n  update,\n  delete: remove,\n};\n\nexport default firebaseUtil;\n","import { toast } from \"react-toastify\";\n\nconst showToastMessage = (message, type) => {\n  if (typeof message !== \"string\") {\n    return;\n  }\n  switch (type) {\n    case \"warn\":\n      toast.warn(message, {\n        position: toast.POSITION.TOP_RIGHT,\n      });\n      break;\n    case \"success\":\n      toast.success(message, {\n        position: toast.POSITION.TOP_RIGHT,\n      });\n      break;\n    default:\n      toast.error(message, {\n        position: toast.POSITION.TOP_RIGHT,\n      });\n  }\n};\n\nexport default showToastMessage;\n","import Modal from \"react-modal\";\n\nconst customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\",\n    padding: \"20px\",\n    minWidth: \"600px\",\n  },\n};\n\nconst ModalUI = ({ isOpen, onRequestClose, children }) => {\n  return (\n    <Modal isOpen={isOpen} onRequestClose={onRequestClose} style={customStyles}>\n      {children}\n    </Modal>\n  );\n};\n\nexport default ModalUI;\n","import { useState } from \"react\";\n\nimport Modal from \"./Modal\";\nimport { showToastMessage } from \"../helper\";\n\nconst validate = ({ password, email }) => {\n  const isValidEmailAddress = (text) =>\n    /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(text);\n\n  if (!password || !email) {\n    showToastMessage(\"Email and Password is mandatory\");\n    return false;\n  }\n  if (!isValidEmailAddress(email)) {\n    showToastMessage(\"Wrong Email format\");\n    return false;\n  }\n  if (password.length < 6) {\n    showToastMessage(\"Password must be of at least 6 characters\");\n    return false;\n  }\n\n  return true;\n};\n\nconst UserForm = (props) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const onClickCancel = () => {\n    setEmail(\"\");\n    setPassword(\"\");\n    props.onClose();\n  };\n  const onClickSave = () => {\n    if (validate({ password, email })) {\n      setEmail(\"\");\n      setPassword(\"\");\n      props.onSave({ password, email });\n    }\n  };\n\n  return (\n    <Modal isOpen={props.isOpen} onRequestClose={onClickCancel}>\n      <form>\n        <div className=\"form-group margin-bottom-30\">\n          <label htmlFor=\"email\" className=\"margin-right-10\">\n            Email\n          </label>\n          <input\n            id=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            type=\"text\"\n          />\n        </div>\n        <div className=\"form-group margin-bottom-30\">\n          <label htmlFor=\"password\" className=\"margin-right-10\">\n            Password\n          </label>\n          <input\n            id=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            type=\"password\"\n          />\n        </div>\n        <div className=\"d-flex flex-row-reverse\">\n          <button\n            onClick={onClickSave}\n            className=\"p-2 btn btn-primary\"\n            type=\"button\"\n          >\n            Save\n          </button>\n          <button\n            onClick={onClickCancel}\n            className=\"p-2 btn btn-secondary margin-right-10\"\n            type=\"button\"\n          >\n            Cancel\n          </button>\n        </div>\n      </form>\n    </Modal>\n  );\n};\n\nexport default UserForm;\n","import { useState } from \"react\";\n\nimport { showToastMessage, firebase } from \"../helper\";\nimport CreateUserForm from \"./CreateUserForm\";\n\nconst CreateUser = ({ onUserUpdate }) => {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const onCreate = () => setIsOpen(true);\n  const handleOnClose = () => setIsOpen(false);\n  const handleOnSave = (obj) => {\n    // firebase.create(obj, (err) => {\n    //   if (!err) {\n    //     handleOnClose();\n    //     return;\n    //   }\n    //   showToastMessage(err.message || \"\");\n    // });\n\n    firebase\n      .create(obj)\n      .then(() => setTimeout(onUserUpdate, 1000))\n      .catch((err) => {\n        showToastMessage(err.message || \"\");\n      })\n      .finally(() => handleOnClose());\n  };\n\n  return (\n    <>\n      <button\n        onClick={onCreate}\n        className=\"btn btn-primary margin-right-10\"\n        type=\"button\"\n      >\n        Add user\n      </button>\n      <CreateUserForm\n        isOpen={isOpen}\n        onSave={handleOnSave}\n        onClose={handleOnClose}\n      />\n    </>\n  );\n};\n\nexport default CreateUser;\n","import { useState, useEffect } from \"react\";\n\nimport Modal from \"./Modal\";\nimport { showToastMessage } from \"../helper\";\n\nconst validate = ({ email }) => {\n  const isValidEmailAddress = (text) =>\n    /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(text);\n\n  if (!isValidEmailAddress(email)) {\n    showToastMessage(\"Wrong Email format\");\n    return false;\n  }\n\n  return true;\n};\n\nconst UserForm = (props) => {\n  const [email, setEmail] = useState(props.email || \"\");\n\n  useEffect(() => {\n    setEmail(props.email);\n  }, [props.email]);\n\n  const onClickCancel = () => {\n    setEmail(props.email);\n    props.onClose();\n  };\n  const onClickSave = () => {\n    if (validate({ email })) {\n      setEmail(props.email);\n      props.onSave({ email });\n    }\n  };\n\n  return (\n    <Modal isOpen={props.isOpen} onRequestClose={onClickCancel}>\n      <form>\n        <div className=\"form-group margin-bottom-30\">\n          <label htmlFor=\"name\" className=\"margin-right-10\">\n            {`UID: ${props.uid}`}\n          </label>\n        </div>\n        <div className=\"form-group margin-bottom-30\">\n          <label htmlFor=\"email\" className=\"margin-right-10\">\n            Email\n          </label>\n          <input\n            id=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            type=\"text\"\n          />\n        </div>\n        <div className=\"d-flex flex-row-reverse\">\n          <button\n            onClick={onClickSave}\n            className=\"p-2 btn btn-primary\"\n            type=\"button\"\n          >\n            Save\n          </button>\n          <button\n            onClick={onClickCancel}\n            className=\"p-2 btn btn-secondary margin-right-10\"\n            type=\"button\"\n          >\n            Cancel\n          </button>\n        </div>\n      </form>\n    </Modal>\n  );\n};\n\nexport default UserForm;\n","import { useState } from \"react\";\n\nimport { showToastMessage, firebase } from \"../helper\";\nimport UpdateUserForm from \"./UpdateUserForm\";\n\nconst UpdateUser = ({ uid, email, onUserUpdate }) => {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const onClickUpdate = () => setIsOpen(true);\n  const handleOnClose = () => setIsOpen(false);\n  const handleOnSave = (obj) => {\n    // firebase.update(id, obj, (err) => {\n    //   console.log(\"error while update\", err);\n    //   err && showToastMessage(err.message || \"\");\n    //   handleOnClose();\n    // });\n\n    firebase\n      .update(uid, obj)\n      .then(() => setTimeout(onUserUpdate, 1000))\n      .catch((err) => showToastMessage(err.message || \"\"))\n      .finally(() => handleOnClose());\n  };\n\n  return (\n    <>\n      <button\n        onClick={onClickUpdate}\n        className=\"btn btn-secondary\"\n        type=\"button\"\n      >\n        Update\n      </button>\n      <UpdateUserForm\n        isOpen={isOpen}\n        uid={uid}\n        email={email}\n        onSave={handleOnSave}\n        onClose={handleOnClose}\n      />\n    </>\n  );\n};\n\nexport default UpdateUser;\n","import { showToastMessage, firebase } from \"../helper\";\n\nconst DeleteUser = ({ uid, onUserUpdate }) => {\n  const onClickDelete = () => {\n    // firebase.delete(id, (err) => {\n    //   err && showToastMessage(err.message || \"\");\n    // });\n    firebase\n      .delete(uid)\n      .then(() => setTimeout(onUserUpdate, 1000))\n      .catch((err) => showToastMessage(err.message || \"\"));\n  };\n\n  return (\n    <button onClick={onClickDelete} className=\"btn btn-danger\" type=\"button\">\n      Delete\n    </button>\n  );\n};\n\nexport default DeleteUser;\n","import CsvDownload from \"react-json-to-csv\";\n\nconst DownloadUsers = (props) => {\n  const { data } = props;\n\n  return (\n    <CsvDownload\n      data={data.map(({ uid, email }) => ({ uid, email }))}\n      filename=\"users.csv\"\n      className=\"btn btn-success\"\n    >\n      Download users\n    </CsvDownload>\n  );\n};\n\nexport default DownloadUsers;\n","import { useState, useEffect, useCallback } from \"react\";\n\nimport { firebase, showToastMessage } from \"../helper\";\nimport CreateUser from \"./CreateUser\";\nimport UpdateUser from \"./UpdateUser\";\nimport DeleteUser from \"./DeleteUser\";\nimport DownloadUsers from \"./DownloadUsers\";\n\nconst Users = () => {\n  const [users, setUsers] = useState(undefined);\n\n  const onUserUpdate = useCallback(() => {\n    firebase\n      .onUpdate()\n      .then((data) => setUsers(data.data))\n      .catch((err) => {\n        showToastMessage(err.message);\n      });\n  }, []);\n\n  useEffect(() => {\n    onUserUpdate();\n    // return () => {\n    //   firebase.detachListener();\n    // };\n  }, [onUserUpdate]);\n\n  const renderUsers = () => {\n    if (users === undefined) {\n      return <span className=\"margin-top-30\">Loading...</span>;\n    }\n\n    if (users.length === 0) {\n      return <span className=\"margin-top-30\">No records found</span>;\n    }\n\n    return (\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th scope=\"col\">UID</th>\n            <th scope=\"col\">Email</th>\n            <th scope=\"col\"></th>\n            <th scope=\"col\"></th>\n          </tr>\n        </thead>\n        <tbody>\n          {users.map(({ uid, email }) => (\n            <tr key={uid}>\n              <td>{uid}</td>\n              <td>{email}</td>\n              <td>\n                <UpdateUser\n                  uid={uid}\n                  email={email}\n                  onUserUpdate={onUserUpdate}\n                />\n              </td>\n              <td>\n                <DeleteUser uid={uid} onUserUpdate={onUserUpdate} />\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    );\n  };\n\n  return (\n    <div>\n      <div className=\"margin-bottom-30\">\n        <CreateUser onUserUpdate={onUserUpdate} />\n        {users && users.length ? <DownloadUsers data={users} /> : null}\n      </div>\n      <br />\n      {renderUsers()}\n    </div>\n  );\n};\n\nexport default Users;\n","import { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport \"./App.css\";\nimport Users from \"./components/Users\";\n\ntoast.configure({ autoClose: 2000, draggable: false });\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Users />\n      <ToastContainer />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Modal from \"react-modal\";\nimport \"../node_modules/bootstrap/dist/css/bootstrap.css\";\n\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  rootElement\n);\nModal.setAppElement(rootElement);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}